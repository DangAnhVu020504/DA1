<div class="booking-container">
    <a (click)="goBack()" class="back-link">‚Üê Quay l·∫°i</a>

    <div class="booking-card">
        <h2>üìÖ ƒê·∫∑t l·ªãch h·∫πn / Li√™n h·ªá</h2>

        <div *ngIf="property" class="property-summary">
            <img [src]="property.imageUrl ? 'http://localhost:3000' + property.imageUrl : 'assets/house-placeholder.jpg'"
                alt="Property">
            <div>
                <h3>{{ property.title }}</h3>
                <p>{{ property.price | number }} VND</p>
            </div>
        </div>

        <div *ngIf="success" class="success-message">
            <h3>‚úÖ ƒê·∫∑t l·ªãch th√†nh c√¥ng!</h3>
            <p>Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n s·ªõm nh·∫•t.</p>
            <button (click)="goBack()">Quay l·∫°i tin ƒëƒÉng</button>
        </div>

        <form *ngIf="!success" (ngSubmit)="submitBooking()" #form="ngForm">
            <div *ngIf="error" class="error">{{ error }}</div>

            <div class="form-group">
                <label>H·ªç v√† t√™n *</label>
                <input type="text" [(ngModel)]="booking.fullName" name="fullName" required
                    placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n">
            </div>

            <div class="form-group">
                <label>S·ªë ƒëi·ªán tho·∫°i Zalo *</label>
                <input type="tel" [(ngModel)]="booking.phone" name="phone" required
                    placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i Zalo">
            </div>

            <div class="form-group">
                <label>Ng√†y h·∫πn *</label>
                <input type="date" [(ngModel)]="booking.appointmentDate" name="appointmentDate" required>
            </div>

            <div class="form-group">
                <label>L·ªùi nh·∫Øn (t√πy ch·ªçn)</label>
                <textarea [(ngModel)]="booking.message" name="message" rows="3"
                    placeholder="Nh·∫≠p l·ªùi nh·∫Øn cho ng∆∞·ªùi b√°n..."></textarea>
            </div>

            <div class="actions">
                <button type="submit" [disabled]="!form.valid || loading" class="btn-submit">
                    {{ loading ? 'ƒêang g·ª≠i...' : 'üì§ G·ª≠i y√™u c·∫ßu' }}
                </button>
                <button type="button" (click)="goBack()" class="btn-cancel">H·ªßy</button>
            </div>
        </form>
    </div>
</div>