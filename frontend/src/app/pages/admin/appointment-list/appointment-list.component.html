<div class="admin-list-container">
    <h2>üìÖ Qu·∫£n l√Ω L·ªãch h·∫πn</h2>

    <table class="admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Tin ƒëƒÉng</th>
                <th>H·ªç t√™n</th>
                <th>ƒêi·ªán tho·∫°i</th>
                <th>Ng√†y h·∫πn</th>
                <th>L·ªùi nh·∫Øn</th>
                <th>Tr·∫°ng th√°i</th>
                <th>H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let apt of appointments">
                <td>{{ apt.id }}</td>
                <td>{{ apt.listing?.property?.title || apt.listing?.title || 'N/A' }}</td>
                <td>{{ apt.fullName }}</td>
                <td>{{ apt.phone }}</td>
                <td>{{ apt.scheduledAt | date:'dd/MM/yyyy' }}</td>
                <td class="message-cell">{{ apt.message || '-' }}</td>
                <td>
                    <span class="status-badge" [class]="apt.status">
                        {{ getStatusLabel(apt.status!) }}
                    </span>
                </td>
                <td class="actions">
                    <button *ngIf="apt.status === 'pending'" class="btn-confirm" (click)="confirmAppointment(apt.id!)">
                        ‚úÖ X√°c nh·∫≠n
                    </button>
                    <button class="btn-delete" (click)="deleteAppointment(apt.id!)">üóëÔ∏è X√≥a</button>
                </td>
            </tr>
            <tr *ngIf="appointments.length === 0">
                <td colspan="8" class="no-data">Ch∆∞a c√≥ l·ªãch h·∫πn n√†o</td>
            </tr>
        </tbody>
    </table>
</div>